
  /* ========== Variables ========== */
  :root{
    --bg-1: #0f1724;
    --bg-2: #201a2b;
    --glass: rgba(255,255,255,0.06);
    --muted: #98a0b3;
    --accent: #6ea8fe;
    --accent-2: #8e6bff;
    --surface: rgba(255,255,255,0.03);
    --card-bg: rgba(255,255,255,0.02);
    --radius: 14px;
    --shadow: 0 10px 30px rgba(2,6,23,0.6);
    --font: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  /* light theme overrides */
  body.light {
    --bg-1: #e6eefc;
    --bg-2: #f2f7ff;
    --glass: rgba(0,0,0,0.04);
    --muted: #55606f;
    --accent: #2563eb;
    --accent-2: #7c3aed;
    --surface: rgba(0,0,0,0.03);
    --card-bg: rgba(255,255,255,0.85);
    --shadow: 0 10px 30px rgba(12,20,40,0.06);
  }

  /* ========== Page background ========== */
  html,body{height:100%;margin:0;}
  body{
    font-family:var(--font);
    -webkit-font-smoothing:antialiased;
    display:flex;
    align-items:stretch;
    background: radial-gradient(1200px 600px at 10% 10%, rgba(142,107,255,0.18), transparent 10%),
                radial-gradient(1000px 500px at 90% 90%, rgba(110,168,254,0.12), transparent 10%),
                linear-gradient(120deg,var(--bg-1), var(--bg-2));
    background-attachment: fixed;
    transition: background 300ms ease, color 200ms ease;
  }

  /* animated subtle shift */
  @keyframes bgShift { 0% { background-position:0% 0%,100% 100%,0% 0%; } 50% { background-position:10% 90%,90% 10%,100% 100%; } 100% { background-position:0% 0%,100% 100%,0% 0%; } }
  body{ animation: bgShift 18s ease-in-out infinite; }

  /* ========== Layout ========== */
  .app {
    margin:auto;
    width: min(1200px, 95vw);
    height: 90vh;
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: 20px;
    align-items: stretch;
  }

  /* Sidebar */
  .sidebar {
    background: linear-gradient(180deg,var(--card-bg), rgba(255,255,255,0.02));
    border-radius: var(--radius);
    padding: 18px;
    box-shadow: var(--shadow);
    display:flex;
    flex-direction: column;
    gap:12px;
    min-height:0; /* allow scrolling children */
    overflow:hidden;
    border: 1px solid rgba(255,255,255,0.03);
  }
  .brand {
    display:flex; align-items:center; gap:12px;
  }
  .logo {
    width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2));
    box-shadow: 0 6px 18px rgba(46,34,77,0.35);
    display:flex;align-items:center;justify-content:center;color:white;font-weight:700;
    font-size:18px;
  }
  .brand h3{ margin:0; font-size:15px; letter-spacing:0.2px; color:inherit; }
  .sub { font-size:12px; color:var(--muted); margin-top:4px; }

  .convos {
    margin-top:6px; overflow:auto; padding-right:6px; flex:1;
  }
  .conv {
    display:flex; gap:10px; align-items:center; padding:8px; border-radius:10px; cursor:pointer;
    transition: background 150ms, transform 120ms;
  }
  .conv:hover { background: rgba(255,255,255,0.02); transform: translateY(-2px); }
  .conv.active { background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)); box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02); }
  .conv .avatar { width:36px;height:36px;border-radius:8px;background:var(--surface); display:inline-flex;align-items:center;justify-content:center;color:var(--muted);font-weight:600; }
  .conv .meta { display:flex; flex-direction:column; }
  .conv .meta .title{ font-size:13px; margin:0; }
  .conv .meta .hint{ font-size:12px; color:var(--muted) }

  .sidebar-footer { display:flex; gap:8px; align-items:center; justify-content:space-between; padding-top:8px; border-top:1px solid rgba(255,255,255,0.02); }

  /* Main chat card */
  .chat-card {
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
    display:flex;
    flex-direction:column;
    overflow:hidden;
    position:relative;
    border: 1px solid rgba(255,255,255,0.03);
  }

  /* Header inside card */
  .chat-header {
    padding:18px; display:flex; align-items:center; justify-content:space-between; gap:12px;
    border-bottom:1px solid rgba(255,255,255,0.02);
  }
  .title { display:flex; gap:12px; align-items:center; }
  .title h2{ margin:0; font-size:18px; }
  .controls { display:flex; gap:8px; align-items:center; }

  /* Messages area */
  .messages {
    padding: 24px;
    overflow:auto;
    flex:1;
    display:flex;
    flex-direction:column;
    gap:12px;
  }

  /* Message bubbles */
  .msg {
    max-width:72%;
    padding: 12px 16px;
    border-radius: 14px;
    position:relative;
    line-height:1.45;
    color: #eaf0ff;
    animation: slideFade .32s ease;
    box-shadow: 0 4px 18px rgba(2,6,23,0.35);
  }
  .msg.bot {
    align-self:flex-start;
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    color: inherit;
  }
  .msg.user {
    align-self:flex-end;
    background: linear-gradient(180deg, var(--accent), var(--accent-2));
    color: white;
  }
  @keyframes slideFade {
    from { opacity:0; transform: translateY(8px) scale(0.995); }
    to { opacity:1; transform: translateY(0) scale(1); }
  }
  .meta-row { display:flex; gap:8px; align-items:center; font-size:12px; color:var(--muted); margin-top:6px; }

  /* Typing indicator (dots) */
  .typing {
    display:inline-flex; gap:6px; padding:8px 12px; border-radius:12px; background: rgba(255,255,255,0.02);
  }
  .typing .dot{
    width:8px;height:8px;border-radius:50%; background:var(--muted); opacity:0.85;
    animation: blink 1s infinite;
  }
  .typing .dot:nth-child(2){ animation-delay: .12s; }
  .typing .dot:nth-child(3){ animation-delay: .24s; }
  @keyframes blink { 0% { transform: translateY(0); opacity:0.4 } 50% { transform: translateY(-6px); opacity:1 } 100% { transform: translateY(0); opacity:0.4 } }

  /* Floating input - GPT style */
  .input-bar {
    padding: 14px;
    display:flex;
    gap:12px;
    align-items:center;
    position:relative;
    border-top: 1px solid rgba(255,255,255,0.02);
    backdrop-filter: blur(8px);
    background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(0,0,0,0.04));
  }
  .input {
    flex:1; display:flex; align-items:center; gap:10px;
    background:var(--glass); padding:10px 14px; border-radius:999px; border:1px solid rgba(255,255,255,0.03);
  }
.input input {
  border:none;
  outline:none;
  background:transparent;
  color:inherit;
  font-size:15px;
  width:100%;
  direction: ltr; /* Add this line */
}
  .icon-btn {
    background:transparent; border:none; color:var(--muted); cursor:pointer; padding:8px; border-radius:8px;
  }
  .send-btn {
    background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:white; border:none; padding:10px 14px; border-radius:999px; cursor:pointer;
    box-shadow: 0 8px 24px rgba(80,90,200,0.18);
  }
  .chip { background: rgba(255,255,255,0.03); padding:6px 10px;border-radius:999px; font-size:13px; color:var(--muted); cursor:pointer; margin-right:8px; }

  /* Custom scrollbar (modern) */
  .messages::-webkit-scrollbar, .convos::-webkit-scrollbar { width:10px; height:10px; }
  .messages::-webkit-scrollbar-thumb, .convos::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01)); border-radius:999px;
    border: 2px solid transparent; background-clip: padding-box;
  }
  .messages::-webkit-scrollbar-track { background: transparent; }

  /* responsive */
  @media (max-width:920px) {
    .app { grid-template-columns: 1fr; width:95vw; }
    .sidebar { display:none; }
    .chat-card { height:100%; }
  }
